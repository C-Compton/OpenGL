\hypertarget{wiic__r90_2src_2bin_2example_8c}{\section{example.\-c File Reference}
\label{wiic__r90_2src_2bin_2example_8c}\index{example.\-c@{example.\-c}}
}


Example using the wiic A\-P\-I.  


{\ttfamily \#include $<$stdio.\-h$>$}\\*
{\ttfamily \#include $<$stdlib.\-h$>$}\\*
{\ttfamily \#include $<$unistd.\-h$>$}\\*
{\ttfamily \#include $<$wiic.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{wiic__r90_2src_2bin_2example_8c_a9d77a56a51b9b590b1266bffcce3d9d5}{\#define {\bfseries M\-A\-X\-\_\-\-W\-I\-I\-M\-O\-T\-E\-S}~4}\label{wiic__r90_2src_2bin_2example_8c_a9d77a56a51b9b590b1266bffcce3d9d5}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{wiic__r90_2src_2bin_2example_8c_a1808bfea3ad13326467ede99c1518370}{handle\-\_\-event} (struct \hyperlink{structwiimote__t}{wiimote\-\_\-t} $\ast$wm)
\begin{DoxyCompactList}\small\item\em Callback that handles an event. \end{DoxyCompactList}\item 
void \hyperlink{wiic__r90_2src_2bin_2example_8c_af4da3f106eec02e87d873336568cbe38}{handle\-\_\-read} (struct \hyperlink{structwiimote__t}{wiimote\-\_\-t} $\ast$wm, \hyperlink{wiic__r90_2src_2wiic_2wiic__macros_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} $\ast$data, unsigned short len)
\begin{DoxyCompactList}\small\item\em Callback that handles a read event. \end{DoxyCompactList}\item 
void \hyperlink{wiic__r90_2src_2bin_2example_8c_a71b9029caff5cd175329ef86320b3033}{handle\-\_\-ctrl\-\_\-status} (struct \hyperlink{structwiimote__t}{wiimote\-\_\-t} $\ast$wm)
\begin{DoxyCompactList}\small\item\em Callback that handles a controller status event. \end{DoxyCompactList}\item 
void \hyperlink{wiic__r90_2src_2bin_2example_8c_ab43643ffa5f5720855581a4ceb4099f8}{handle\-\_\-disconnect} (\hyperlink{structwiimote__t}{wiimote} $\ast$wm)
\begin{DoxyCompactList}\small\item\em Callback that handles a disconnection event. \end{DoxyCompactList}\item 
\hypertarget{wiic__r90_2src_2bin_2example_8c_a4d8d5ef96fd073d575d04b93a16035bc}{void {\bfseries test} (struct \hyperlink{structwiimote__t}{wiimote\-\_\-t} $\ast$wm, \hyperlink{wiic__r90_2src_2wiic_2wiic__macros_8h_a0c8186d9b9b7880309c27230bbb5e69d}{byte} $\ast$data, unsigned short len)}\label{wiic__r90_2src_2bin_2example_8c_a4d8d5ef96fd073d575d04b93a16035bc}

\item 
int \hyperlink{wiic__r90_2src_2bin_2example_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\begin{DoxyCompactList}\small\item\em \hyperlink{wiic__r90_2src_2bin_2example_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hypertarget{wiic__r90_2src_2bin_2example_8c_aaa06c1cc110e73f1759e3b35e40a2f91}{int {\bfseries exiting} = 0}\label{wiic__r90_2src_2bin_2example_8c_aaa06c1cc110e73f1759e3b35e40a2f91}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Example using the wiic A\-P\-I. This file is an example of how to use the wiic library. 

Definition in file \hyperlink{wiic__r90_2src_2bin_2example_8c_source}{wiic\-\_\-r90/src/bin/example.\-c}.



\subsection{Function Documentation}
\hypertarget{wiic__r90_2src_2bin_2example_8c_a71b9029caff5cd175329ef86320b3033}{\index{wiic\-\_\-r90/src/bin/example.\-c@{wiic\-\_\-r90/src/bin/example.\-c}!handle\-\_\-ctrl\-\_\-status@{handle\-\_\-ctrl\-\_\-status}}
\index{handle\-\_\-ctrl\-\_\-status@{handle\-\_\-ctrl\-\_\-status}!wiic_r90/src/bin/example.c@{wiic\-\_\-r90/src/bin/example.\-c}}
\subsubsection[{handle\-\_\-ctrl\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}void handle\-\_\-ctrl\-\_\-status (
\begin{DoxyParamCaption}
\item[{struct {\bf wiimote\-\_\-t} $\ast$}]{wm}
\end{DoxyParamCaption}
)}}\label{wiic__r90_2src_2bin_2example_8c_a71b9029caff5cd175329ef86320b3033}


Callback that handles a controller status event. 


\begin{DoxyParams}{Parameters}
{\em wm} & Pointer to a \hyperlink{structwiimote__t}{wiimote\-\_\-t} structure. \\
\hline
{\em attachment} & Is there an attachment? (1 for yes, 0 for no) \\
\hline
{\em speaker} & Is the speaker enabled? (1 for yes, 0 for no) \\
\hline
{\em ir} & Is the I\-R support enabled? (1 for yes, 0 for no) \\
\hline
{\em led} & What L\-E\-Ds are lit. \\
\hline
{\em battery\-\_\-level} & Battery level, between 0.\-0 (0\%) and 1.\-0 (100\%).\\
\hline
\end{DoxyParams}
This occurs when either the controller status changed or the controller status was requested explicitly by \hyperlink{wiic__r90_2src_2wiic_2wiic_8c_a50c5f584a92ab6f1e353a7dc2f9e95cd}{wiic\-\_\-status()}.

One reason the status can change is if the nunchuk was inserted or removed from the expansion port. 

Definition at line 259 of file wiic\-\_\-r90/src/bin/example.\-c.

\hypertarget{wiic__r90_2src_2bin_2example_8c_ab43643ffa5f5720855581a4ceb4099f8}{\index{wiic\-\_\-r90/src/bin/example.\-c@{wiic\-\_\-r90/src/bin/example.\-c}!handle\-\_\-disconnect@{handle\-\_\-disconnect}}
\index{handle\-\_\-disconnect@{handle\-\_\-disconnect}!wiic_r90/src/bin/example.c@{wiic\-\_\-r90/src/bin/example.\-c}}
\subsubsection[{handle\-\_\-disconnect}]{\setlength{\rightskip}{0pt plus 5cm}void handle\-\_\-disconnect (
\begin{DoxyParamCaption}
\item[{{\bf wiimote} $\ast$}]{wm}
\end{DoxyParamCaption}
)}}\label{wiic__r90_2src_2bin_2example_8c_ab43643ffa5f5720855581a4ceb4099f8}


Callback that handles a disconnection event. 


\begin{DoxyParams}{Parameters}
{\em wm} & Pointer to a \hyperlink{structwiimote__t}{wiimote\-\_\-t} structure.\\
\hline
\end{DoxyParams}
This can happen if the P\-O\-W\-E\-R button is pressed, or if the connection is interrupted. 

Definition at line 278 of file wiic\-\_\-r90/src/bin/example.\-c.

\hypertarget{wiic__r90_2src_2bin_2example_8c_a1808bfea3ad13326467ede99c1518370}{\index{wiic\-\_\-r90/src/bin/example.\-c@{wiic\-\_\-r90/src/bin/example.\-c}!handle\-\_\-event@{handle\-\_\-event}}
\index{handle\-\_\-event@{handle\-\_\-event}!wiic_r90/src/bin/example.c@{wiic\-\_\-r90/src/bin/example.\-c}}
\subsubsection[{handle\-\_\-event}]{\setlength{\rightskip}{0pt plus 5cm}void handle\-\_\-event (
\begin{DoxyParamCaption}
\item[{struct {\bf wiimote\-\_\-t} $\ast$}]{wm}
\end{DoxyParamCaption}
)}}\label{wiic__r90_2src_2bin_2example_8c_a1808bfea3ad13326467ede99c1518370}


Callback that handles an event. 


\begin{DoxyParams}{Parameters}
{\em wm} & Pointer to a \hyperlink{structwiimote__t}{wiimote\-\_\-t} structure.\\
\hline
\end{DoxyParams}
This function is called automatically by the wiic library when an event occurs on the specified wiimote. 

Definition at line 61 of file wiic\-\_\-r90/src/bin/example.\-c.

\hypertarget{wiic__r90_2src_2bin_2example_8c_af4da3f106eec02e87d873336568cbe38}{\index{wiic\-\_\-r90/src/bin/example.\-c@{wiic\-\_\-r90/src/bin/example.\-c}!handle\-\_\-read@{handle\-\_\-read}}
\index{handle\-\_\-read@{handle\-\_\-read}!wiic_r90/src/bin/example.c@{wiic\-\_\-r90/src/bin/example.\-c}}
\subsubsection[{handle\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}void handle\-\_\-read (
\begin{DoxyParamCaption}
\item[{struct {\bf wiimote\-\_\-t} $\ast$}]{wm, }
\item[{{\bf byte} $\ast$}]{data, }
\item[{unsigned short}]{len}
\end{DoxyParamCaption}
)}}\label{wiic__r90_2src_2bin_2example_8c_af4da3f106eec02e87d873336568cbe38}


Callback that handles a read event. 


\begin{DoxyParams}{Parameters}
{\em wm} & Pointer to a \hyperlink{structwiimote__t}{wiimote\-\_\-t} structure. \\
\hline
{\em data} & Pointer to the filled data block. \\
\hline
{\em len} & Length in bytes of the data block.\\
\hline
\end{DoxyParams}
This function is called automatically by the wiic library when the wiimote has returned the full data requested by a previous call to \hyperlink{wiic__r90_2src_2wiic_2wiic_8c_a7680f82595ab757815aae6f4a3188de1}{wiic\-\_\-read\-\_\-data()}.

You can read data on the wiimote, such as Mii data, if you know the offset address and the length.

The {\itshape data} pointer was specified on the call to \hyperlink{wiic__r90_2src_2wiic_2wiic_8c_a7680f82595ab757815aae6f4a3188de1}{wiic\-\_\-read\-\_\-data()}. At the time of this function being called, it is not safe to deallocate this buffer. 

Definition at line 228 of file wiic\-\_\-r90/src/bin/example.\-c.

\hypertarget{wiic__r90_2src_2bin_2example_8c_a3c04138a5bfe5d72780bb7e82a18e627}{\index{wiic\-\_\-r90/src/bin/example.\-c@{wiic\-\_\-r90/src/bin/example.\-c}!main@{main}}
\index{main@{main}!wiic_r90/src/bin/example.c@{wiic\-\_\-r90/src/bin/example.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{wiic__r90_2src_2bin_2example_8c_a3c04138a5bfe5d72780bb7e82a18e627}


\hyperlink{wiic__r90_2src_2bin_2example_8c_a3c04138a5bfe5d72780bb7e82a18e627}{main()} 

Connect to up to two wiimotes and print any events that occur on either device. 

Definition at line 296 of file wiic\-\_\-r90/src/bin/example.\-c.

